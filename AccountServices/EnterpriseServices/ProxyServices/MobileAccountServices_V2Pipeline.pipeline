<?xml version="1.0" encoding="UTF-8"?>
<con:pipelineEntry xmlns:con="http://www.bea.com/wli/sb/pipeline/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:coreEntry>
        <con:binding type="SOAP" isSoap12="false" xsi:type="con:SoapBindingType">
            <con:wsdl ref="AccountServices/EnterpriseServices/wsdl/MobileAccountServices_V2"/>
            <con:binding>
                <con:name>MobileAccountServices_V2SOAP</con:name>
                <con:namespace>http://b2b.tracfone.com/MobileAccountServices/v2</con:namespace>
            </con:binding>
        </con:binding>
        <con:xqConfiguration>
            <con:snippetVersion>1.0</con:snippetVersion>
        </con:xqConfiguration>
    </con:coreEntry>
    <con:router>
        <con:pipeline type="response" name="response-a7b723b.7afd637e.0.16100c84998.N7fff">
            <con:stage name="ExitLog" id="_StageId-a7b723b.7afd637e.0.16100c84998.N7f99" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/typesystem/config" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:http="http://www.bea.com/wli/sb/transports/http" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:env="http://www.bea.com/wli/config/env" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                <con:context>
                    <con2:userNsDecl prefix="com" namespace="http://www.tracfone.com/CommonTypes"/>
                    <con2:userNsDecl prefix="v2" namespace="http://b2b.tracfone.com/MobileAccountServices/v2"/>
                    <con2:varNsDecl prefix="mob" namespace="http://b2b.tracfone.com/MobileAccountServices"/>
                </con:context>
                <con:actions>
                    <con6:log xmlns:con3="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id>_ActionId-a7b723b.7afd637e.0.16100c84998.N7f98</con2:id>
                        <con6:logLevel>debug</con6:logLevel>
                        <con6:expr>
                            <con2:xqueryText>fn:concat(fn:local-name($body/child::node()[1]),'___','ClientTransactionId :',$body/v2:deleteGroupResponse/com:requestToken/com:clientTransactionId,'___',fn:current-dateTime())</con2:xqueryText>
                        </con6:expr>
                        <con6:message>&lt;!-- MobileAccountServices_DeleteGroupResponse Log --></con6:message>
                    </con6:log>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-a7b723b.7afd637e.0.16100c84998.N8000">
            <con:stage name="EntryLog" id="_StageId-a7b723b.4da9ed95.0.16100e5e410.N7f6c" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/typesystem/config" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:http="http://www.bea.com/wli/sb/transports/http" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:env="http://www.bea.com/wli/config/env" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                <con:context xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                    <con2:userNsDecl prefix="com" namespace="http://www.tracfone.com/CommonTypes"/>
                    <con2:userNsDecl prefix="v2" namespace="http://b2b.tracfone.com/MobileAccountServices/v2"/>
                    <con2:varNsDecl prefix="mob" namespace="http://b2b.tracfone.com/MobilePhoneServices"/>
                </con:context>
                <con:actions xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                    <con6:log xmlns:con3="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id>_ActionId-a7b723b.4da9ed95.0.16100e5e410.N7f6b</con2:id>
                        <con6:logLevel>debug</con6:logLevel>
                        <con6:expr>
                            <con2:xqueryText>fn:concat(fn:local-name($body/child::node()[1]),'___','ClientTransactionId :',$body/v2:deleteDeviceRequest/com:requestToken/com:clientTransactionId,'___',fn:current-dateTime())</con2:xqueryText>
                        </con6:expr>
                        <con6:message>&lt;!-- MobileAccountServicesV2_DeleteDeviceRequest Log --></con6:message>
                    </con6:log>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7f85">
            <con:stage name="InjectClientTransId" id="_StageId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7e76" xmlns:con3="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/typesystem/config" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:env="http://www.bea.com/wli/config/env" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations" xmlns:http="http://www.bea.com/wli/sb/transports/http">
                <con:context>
                    <con2:varNsDecl namespace="http://oauth.b2b.tracfone.com/OAuthAccountServices" prefix="oaut"/>
                    <con2:varNsDecl namespace="http://www.tracfone.com/CommonTypes" prefix="com"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse>
                        <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7e75</con2:id>
                        <con1:case id="_BranchId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7e74">
                            <con1:condition>
                                <con2:xqueryText>fn:exists($body//com:serverTransactionId)</con2:xqueryText>
                            </con1:condition>
                            <con1:actions>
                                <con1:replace varName="body" contents-only="true">
                                    <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7e73</con2:id>
                                    <con1:location>
                                        <con2:xpathText>.//com:serverTransactionId</con2:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con2:xqueryText>fn-bea:uuid()</con2:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:insert varName="body">
                                <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7e72</con2:id>
                                <con1:location>
                                    <con2:xpathText>.//com:result</con2:xpathText>
                                </con1:location>
                                <con1:where>after</con1:where>
                                <con1:expr>
                                    <con2:xqueryText>&lt;com:serverTransactionId>
{fn-bea:uuid()}
&lt;/com:serverTransactionId></con2:xqueryText>
                                </con1:expr>
                            </con1:insert>
                        </con1:default>
                    </con1:ifThenElse>
                </con:actions>
            </con:stage>
            <con:stage name="PopulateRequestToken" id="_StageId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7dce" xmlns:con3="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/typesystem/config" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:env="http://www.bea.com/wli/config/env" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations" xmlns:http="http://www.bea.com/wli/sb/transports/http">
                <con:context>
                    <con2:varNsDecl namespace="http://b2b.tracfone.com/AccountServices" prefix="acc"/>
                    <con2:varNsDecl namespace="http://www.tracfone.com/CommonTypes" prefix="com"/>
                    <con2:varNsDecl prefix="phon" namespace="http://www.tracfone.com/PhoneCommonTypes"/>
                    <con2:varNsDecl prefix="mob" namespace="http://b2b.tracfone.com/MobileAccountServices"/>
                    <con2:varNsDecl prefix="acc1" namespace="http://www.tracfone.com/AccountCommonTypes"/>
                    <con2:varNsDecl prefix="run" namespace="http://www.tracfone.com/RuntimeFault"/>
                </con:context>
                <con:actions>
                    <con1:ifThenElse>
                        <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7dcd</con2:id>
                        <con1:case id="_BranchId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7dcc">
                            <con1:condition>
                                <con2:xqueryConditionExpr>
                                    <con2:unaryExpr>
                                        <con2:path>fn:exists($body//com:requestToken)</con2:path>
                                    </con2:unaryExpr>
                                </con2:xqueryConditionExpr>
                            </con1:condition>
                            <con1:actions>
                                <con1:replace varName="body" contents-only="false">
                                    <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7dcb</con2:id>
                                    <con1:location>
                                        <con2:xpathText>.//com:requestToken</con2:xpathText>
                                    </con1:location>
                                    <con1:expr>
                                        <con2:xqueryText>$originalRequest//com:requestToken</con2:xqueryText>
                                    </con1:expr>
                                </con1:replace>
                            </con1:actions>
                        </con1:case>
                        <con1:default>
                            <con1:insert varName="body">
                                <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7dca</con2:id>
                                <con1:location>
                                    <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">./node()</con:xpathText>
                                </con1:location>
                                <con1:where>first-child</con1:where>
                                <con1:expr>
                                    <con2:xqueryText>$originalRequest//com:requestToken</con2:xqueryText>
                                </con1:expr>
                            </con1:insert>
                        </con1:default>
                    </con1:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b66" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/typesystem/config" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations" xmlns:http="http://www.bea.com/wli/sb/transports/http" xmlns:env="http://www.bea.com/wli/config/env" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
            <con:stage name="GetTransactionHistoryResponse" id="_StageId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b65" xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                <con:context>
                    <con2:varNsDecl namespace="http://b2b.tracfone.com/AccountServices" prefix="acc"/>
                    <con2:varNsDecl namespace="http://b2b.tracfone.com/MobileAccountServices" prefix="mob"/>
                </con:context>
                <con:actions>
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b64</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xsltTransform>
                                <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DataServices2GetTransactionHistoryResponse"/>
                                <con2:input>$body</con2:input>
                                <con2:param name="limit">
                                    <con2:path>$Limit</con2:path>
                                </con2:param>
                                <con2:param name="offset">
                                    <con2:path>$Offset</con2:path>
                                </con2:param>
                            </con2:xsltTransform>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
            <con:stage name="ExitLog" id="_StageId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b63">
                <con:context>
                    <con2:userNsDecl prefix="com" namespace="http://www.tracfone.com/CommonTypes"/>
                    <con2:userNsDecl prefix="v2" namespace="http://b2b.tracfone.com/MobileAccountServices/v2"/>
                    <con2:varNsDecl prefix="mob" namespace="http://b2b.tracfone.com/MobileAccountServices"/>
                </con:context>
                <con:actions>
                    <con6:log xmlns:con3="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b62</con2:id>
                        <con6:logLevel>debug</con6:logLevel>
                        <con6:expr>
                            <con2:xqueryText>fn:concat(fn:local-name($body/child::node()[1]),'___','ClientTransactionId :',$body/v2:getTransactionHistoryResponse/com:requestToken/com:clientTransactionId,'___',fn:current-dateTime())</con2:xqueryText>
                        </con6:expr>
                        <con6:message>&lt;!-- MobileAccountServicesV2_GetTransactionHistoryResponse Log --></con6:message>
                    </con6:log>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-af8bb60.67340dae.0.15686b3b605.N7f51" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/typesystem/config" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations" xmlns:http="http://www.bea.com/wli/sb/transports/http" xmlns:env="http://www.bea.com/wli/config/env" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
            <con:stage name="ExitLog" id="_StageId-af8bb60.67340dae.0.15686b3b605.N7f50">
                <con:context>
                    <con2:userNsDecl namespace="http://www.tracfone.com/CommonTypes" prefix="com"/>
                    <con2:varNsDecl namespace="http://b2b.tracfone.com/MobileAccountServices" prefix="mob"/>
                </con:context>
                <con:actions>
                    <con6:log xmlns:con3="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                        <con2:id>_ActionId-af8bb60.67340dae.0.15686b3b605.N7f4f</con2:id>
                        <con6:logLevel>debug</con6:logLevel>
                        <con6:expr>
                            <con2:xqueryText>fn:concat(fn:local-name($body/child::node()[1]),'___','ClientTransactionId :',$body/mob:deleteEsnFromAccountResponse/com:requestToken/com:clientTransactionId,'___',fn:current-dateTime())</con2:xqueryText>
                        </con6:expr>
                        <con6:message>&lt;!-- MobileAccountServices_DeleteEsnFromAccountResponse Log --></con6:message>
                    </con6:log>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7f86">
            <con:stage name="CaptureOriginalRequest" id="_StageId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7f1b" xmlns:con3="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/typesystem/config" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:env="http://www.bea.com/wli/config/env" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations" xmlns:http="http://www.bea.com/wli/sb/transports/http">
                <con:context/>
                <con:actions>
                    <con1:assign varName="originalRequest">
                        <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7f1a</con2:id>
                        <con1:expr>
                            <con2:xqueryText>$body</con2:xqueryText>
                        </con1:expr>
                    </con1:assign>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b72" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/typesystem/config" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations" xmlns:http="http://www.bea.com/wli/sb/transports/http" xmlns:env="http://www.bea.com/wli/config/env" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
            <con:stage name="EntryLog" id="_StageId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b71">
                <con:context xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                    <con2:userNsDecl prefix="com" namespace="http://www.tracfone.com/CommonTypes"/>
                    <con2:userNsDecl prefix="v2" namespace="http://b2b.tracfone.com/MobileAccountServices/v2"/>
                    <con2:varNsDecl prefix="mob" namespace="http://b2b.tracfone.com/MobilePhoneServices"/>
                </con:context>
                <con:actions xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                    <con6:log xmlns:con3="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b70</con2:id>
                        <con6:logLevel>debug</con6:logLevel>
                        <con6:expr>
                            <con2:xqueryText>fn:concat(fn:local-name($body/child::node()[1]),'___','ClientTransactionId :',$body/v2:getTransactionHistoryRequest/com:requestToken/com:clientTransactionId,'___',fn:current-dateTime())</con2:xqueryText>
                        </con6:expr>
                        <con6:message>&lt;!-- MobileAccountServicesV2_GetTransactionHistoryRequest Log --></con6:message>
                    </con6:log>
                </con:actions>
            </con:stage>
            <con:stage name="GetTransactionHistoryRequest" id="_StageId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b6f" xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                <con:context>
                    <con2:userNsDecl prefix="phon2" namespace="http://www.tracfone.com/PhoneCoreServices"/>
                    <con2:userNsDecl prefix="v2" namespace="http://b2b.tracfone.com/MobileAccountServices/v2"/>
                    <con2:varNsDecl prefix="acc1" namespace="http://www.tracfone.com/AccountCommonTypes"/>
                    <con2:varNsDecl prefix="com" namespace="http://www.tracfone.com/CommonTypes"/>
                    <con2:varNsDecl prefix="mob" namespace="http://b2b.tracfone.com/MobileAccountServices"/>
                    <con2:varNsDecl prefix="phon" namespace="http://www.tracfone.com/PhoneCommonTypes"/>
                    <con2:varNsDecl prefix="run" namespace="http://www.tracfone.com/RuntimeFault"/>
                    <con2:varNsDecl prefix="acc" namespace="http://b2b.tracfone.com/AccountServices"/>
                </con:context>
                <con:actions>
                    <con3:ifThenElse>
                        <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b6e</con2:id>
                        <con3:case id="_BranchId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b6d">
                            <con3:condition>
                                <con2:xqueryText>fn:exists($body/v2:getTransactionHistoryRequest/v2:offset)</con2:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="Offset">
                                    <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b6c</con2:id>
                                    <con3:expr>
                                        <con2:xqueryText>fn:data($body/v2:getTransactionHistoryRequest/v2:offset)</con2:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                            </con3:actions>
                        </con3:case>
                        <con3:default>
                            <con3:assign varName="Offset">
                                <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b6b</con2:id>
                                <con3:expr>
                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">''</con:xqueryText>
                                </con3:expr>
                            </con3:assign>
                        </con3:default>
                    </con3:ifThenElse>
                    <con3:ifThenElse>
                        <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b6a</con2:id>
                        <con3:case id="_BranchId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b69">
                            <con3:condition>
                                <con2:xqueryText>fn:exists($body/v2:getTransactionHistoryRequest/v2:limit)</con2:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="Limit">
                                    <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b68</con2:id>
                                    <con3:expr>
                                        <con2:xqueryText>fn:data($body/v2:getTransactionHistoryRequest/v2:limit)</con2:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                            </con3:actions>
                        </con3:case>
                        <con3:default>
                            <con3:assign varName="Limit">
                                <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b67</con2:id>
                                <con3:expr>
                                    <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">''</con:xqueryText>
                                </con3:expr>
                            </con3:assign>
                        </con3:default>
                    </con3:ifThenElse>
                    <con3:ifThenElse>
                        <con2:id>_ActionId-af85761.N3fa973cc.0.14eb4481f91.N7e3a</con2:id>
                        <con3:case id="_BranchId-af85761.N3fa973cc.0.14eb4481f91.N7e39">
                            <con3:condition>
                                <con2:xqueryText>fn:exists($body/v2:getTransactionHistoryRequest/v2:device/phon:esn)</con2:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="ESN">
                                    <con2:id>_ActionId-af85761.N3fa973cc.0.14eb4481f91.N7e38</con2:id>
                                    <con3:expr>
                                        <con2:xqueryText>fn:data($body/v2:getTransactionHistoryRequest/v2:device/phon:esn)</con2:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                            </con3:actions>
                        </con3:case>
                        <con3:default>
                            <con3:wsCallout>
                                <con2:id>_ActionId-af85761.N3fa973cc.0.14eb4481f91.N7e37</con2:id>
                                <con3:service xsi:type="ref:BusinessServiceRef" ref="AccountServices/EnterpriseServices/BusinessServices/PhoneCoreServicesBS" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                <con3:operation>getESNFromMIN</con3:operation>
                                <con3:request>
                                    <con3:body>getESNFromMINRequest</con3:body>
                                </con3:request>
                                <con3:response>
                                    <con3:body>getESNFromMINResponse</con3:body>
                                </con3:response>
                                <con3:requestTransform>
                                    <con3:assign varName="getESNFromMINRequest">
                                        <con2:id>_ActionId-af85761.N3fa973cc.0.14eb4481f91.N7e36</con2:id>
                                        <con3:expr>
                                            <con2:xqueryTransform>
                                                <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/GetTransactionHistory2CoreGetEsnFromMinRequest"/>
                                                <con2:param name="getTransactionHistoryRequest">
                                                    <con2:path>$body/v2:getTransactionHistoryRequest</con2:path>
                                                </con2:param>
                                            </con2:xqueryTransform>
                                        </con3:expr>
                                    </con3:assign>
                                </con3:requestTransform>
                                <con3:responseTransform>
                                    <con3:ifThenElse>
                                        <con2:id>_ActionId-af85761.N3fa973cc.0.14eb4481f91.N7dfa</con2:id>
                                        <con3:case id="_BranchId-af85761.N3fa973cc.0.14eb4481f91.N7df9">
                                            <con3:condition>
                                                <con2:xqueryText>fn:data($getESNFromMINResponse/com:result/com:code) = "0"</con2:xqueryText>
                                            </con3:condition>
                                            <con3:actions>
                                                <con3:assign varName="ESN">
                                                    <con2:id>_ActionId-af85761.N3fa973cc.0.14eb4481f91.N7e35</con2:id>
                                                    <con3:expr>
                                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:data($getESNFromMINResponse/phon2:ESN)</con:xqueryText>
                                                    </con3:expr>
                                                </con3:assign>
                                            </con3:actions>
                                        </con3:case>
                                        <con3:default>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-af82242.1e8a55c1.0.14ec744ddf0.N7ff5</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/FormatGetTransactionHistoryErrorResponse"/>
                                                        <con2:param name="getTransactionHistoryRequest">
                                                            <con2:path>$body/v2:getTransactionHistoryRequest</con2:path>
                                                        </con2:param>
                                                        <con2:param name="errorCode">
                                                            <con2:path>"10100"</con2:path>
                                                        </con2:param>
                                                        <con2:param name="errorString">
                                                            <con2:path>"Device not found"</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con2:reply>
                                                <con2:id>_ActionId-af85761.N3fa973cc.0.14eb4481f91.N7dc2</con2:id>
                                            </con2:reply>
                                        </con3:default>
                                    </con3:ifThenElse>
                                </con3:responseTransform>
                            </con3:wsCallout>
                        </con3:default>
                    </con3:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="response" name="response-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b3d" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/typesystem/config" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations" xmlns:http="http://www.bea.com/wli/sb/transports/http" xmlns:env="http://www.bea.com/wli/config/env" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
            <con:stage name="ReturnUnimplementedOperationError" id="_StageId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b3c">
                <con:context xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config"/>
                <con:actions xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                    <con3:replace varName="body" contents-only="true">
                        <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b3b</con2:id>
                        <con3:location>
                            <con2:xpathText>.</con2:xpathText>
                        </con3:location>
                        <con3:expr>
                            <con2:xqueryTransform>
                                <con2:resource ref="TFCommon/transformations/UnimplementedOperationFaultGenerator"/>
                            </con2:xqueryTransform>
                        </con3:expr>
                    </con3:replace>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-af8bb60.67340dae.0.15686b3b605.N7f5e" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/typesystem/config" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations" xmlns:http="http://www.bea.com/wli/sb/transports/http" xmlns:env="http://www.bea.com/wli/config/env" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
            <con:stage name="EntryLog" id="_StageId-af8bb60.67340dae.0.15686b3b605.N7f5d">
                <con:context xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                    <con2:userNsDecl prefix="com" namespace="http://www.tracfone.com/CommonTypes"/>
                    <con2:userNsDecl prefix="v2" namespace="http://b2b.tracfone.com/MobileAccountServices/v2"/>
                    <con2:varNsDecl prefix="mob" namespace="http://b2b.tracfone.com/MobilePhoneServices"/>
                </con:context>
                <con:actions xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                    <con6:log xmlns:con3="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                        <con2:id>_ActionId-af8bb60.67340dae.0.15686b3b605.N7f5c</con2:id>
                        <con6:logLevel>debug</con6:logLevel>
                        <con6:expr>
                            <con2:xqueryText>fn:concat(fn:local-name($body/child::node()[1]),'___','ClientTransactionId :',$body/v2:deleteDeviceRequest/com:requestToken/com:clientTransactionId,'___',fn:current-dateTime())</con2:xqueryText>
                        </con6:expr>
                        <con6:message>&lt;!-- MobileAccountServicesV2_DeleteDeviceRequest Log --></con6:message>
                    </con6:log>
                </con:actions>
            </con:stage>
            <con:stage name="DeleteDevice" id="_StageId-af8bb60.67340dae.0.15686b3b605.N7f5b">
                <con:context>
                    <con2:userNsDecl prefix="phon2" namespace="http://www.tracfone.com/PhoneCoreServices"/>
                    <con2:userNsDecl prefix="v2" namespace="http://b2b.tracfone.com/MobileAccountServices/v2"/>
                    <con2:varNsDecl prefix="acc2" namespace="http://b2b.tracfone.com/AccountServices"/>
                    <con2:varNsDecl prefix="acc1" namespace="http://www.tracfone.com/AccountSpringFarmServices"/>
                    <con2:varNsDecl prefix="phon1" namespace="http://www.tracfone.com/PhoneCommonTypes"/>
                    <con2:varNsDecl prefix="com" namespace="http://www.tracfone.com/CommonTypes"/>
                    <con2:varNsDecl prefix="mob" namespace="http://b2b.tracfone.com/MobileAccountServices"/>
                    <con2:varNsDecl prefix="phon" namespace="http://b2b.tracfone.com/PhoneServices"/>
                    <con2:varNsDecl prefix="run" namespace="http://www.tracfone.com/RuntimeFault"/>
                    <con2:varNsDecl prefix="acc" namespace="http://www.tracfone.com/AccountCommonTypes"/>
                    <con4:variable name="AccountServices" path="$getCustomerProfileResponse" asChild="false">
                        <con4:schema ref="AccountServices/SpringFarmServices/xsd/AccountSpringFarmServices" element="getCustomerProfileResponse"/>
                    </con4:variable>
                    <con4:variable name="PhoneService" path="$getEsnFromMinResponse" asChild="false">
                        <con4:schema ref="PhoneServices/EnterpriseServices/xsd/PhoneServices" element="getEsnFromMinResponse"/>
                    </con4:variable>
                </con:context>
                <con:actions>
                    <con3:ifThenElse>
                        <con2:id>_ActionId-af8bb60.67340dae.0.15686b3b605.N7f57</con2:id>
                        <con3:case id="_BranchId-af8bb60.67340dae.0.15686b3b605.N7f56">
                            <con3:condition>
                                <con2:xqueryText>fn:exists($body/v2:deleteDeviceRequest/v2:device/phon1:esn)</con2:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con3:assign varName="ESN">
                                    <con2:id>_ActionId-af8bb60.67340dae.0.15686b3b605.N7f55</con2:id>
                                    <con3:expr>
                                        <con2:xqueryText>fn:data($body/v2:deleteDeviceRequest/v2:device/phon1:esn)</con2:xqueryText>
                                    </con3:expr>
                                </con3:assign>
                            </con3:actions>
                        </con3:case>
                        <con3:default>
                            <con3:wsCallout>
                                <con2:id>_ActionId-af8bb60.67340dae.0.15686b3b605.N7f54</con2:id>
                                <con3:service xsi:type="ref:BusinessServiceRef" ref="AccountServices/EnterpriseServices/BusinessServices/PhoneCoreServicesBS" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                <con3:operation>getESNFromMIN</con3:operation>
                                <con3:request>
                                    <con3:body>getESNFromMINRequest</con3:body>
                                </con3:request>
                                <con3:response>
                                    <con3:body>getESNFromMINResponse</con3:body>
                                </con3:response>
                                <con3:requestTransform>
                                    <con3:assign varName="getESNFromMINRequest">
                                        <con2:id>_ActionId-af8bb60.67340dae.0.15686b3b605.N7f53</con2:id>
                                        <con3:expr>
                                            <con2:xqueryTransform>
                                                <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DeleteDevice2CoreGetEsnFromMinRequest"/>
                                                <con2:param name="deleteDeviceRequest1">
                                                    <con2:path>$body/v2:deleteDeviceRequest</con2:path>
                                                </con2:param>
                                            </con2:xqueryTransform>
                                        </con3:expr>
                                    </con3:assign>
                                </con3:requestTransform>
                                <con3:responseTransform>
                                    <con3:ifThenElse>
                                        <con2:id>_ActionId-af8220b.N622a7407.0.156dc3f49dd.N7fcd</con2:id>
                                        <con3:case id="_BranchId-af8220b.N622a7407.0.156dc3f49dd.N7fcc">
                                            <con3:condition>
                                                <con2:xqueryText>fn:data($getESNFromMINResponse/phon2:ESN) != ''</con2:xqueryText>
                                            </con3:condition>
                                            <con3:actions>
                                                <con3:assign varName="ESN">
                                                    <con2:id>_ActionId-af8bb60.67340dae.0.15686b3b605.N7f52</con2:id>
                                                    <con3:expr>
                                                        <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:data($getESNFromMINResponse/phon2:ESN)</con:xqueryText>
                                                    </con3:expr>
                                                </con3:assign>
                                            </con3:actions>
                                        </con3:case>
                                        <con3:default>
                                            <con3:assign varName="errorCodesMap">
                                                <con2:id>_ActionId-af8220b.N622a7407.0.156dc3f49dd.N7f98</con2:id>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="AccountServices/EnterpriseServices/DVM/CBOErrorCode2OSBErrorCodeDVM"/>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:assign>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-af8220b.N622a7407.0.156dc3f49dd.N7f95</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/GetESNFromMIN2DeleteDeviceResponse"/>
                                                        <con2:param name="errorCodesMap">
                                                            <con2:path>$errorCodesMap</con2:path>
                                                        </con2:param>
                                                        <con2:param name="getESNFromMINResponse">
                                                            <con2:path>$getESNFromMINResponse</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                            <con2:reply>
                                                <con2:id>_ActionId-af8220b.N622a7407.0.156dc3f49dd.N7f92</con2:id>
                                            </con2:reply>
                                        </con3:default>
                                    </con3:ifThenElse>
                                </con3:responseTransform>
                            </con3:wsCallout>
                        </con3:default>
                    </con3:ifThenElse>
                </con:actions>
            </con:stage>
            <con:stage id="_StageId-a00000b.3d530e00.0.1568726f3a8.N7ef1" name="Stage2">
                <con:context>
                    <con2:userNsDecl prefix="acc1" namespace="http://www.tracfone.com/AccountSpringFarmServices"/>
                    <con2:userNsDecl prefix="grp" namespace="http://www.tracfone.com/GroupManagementServices"/>
                    <con2:userNsDecl prefix="com" namespace="http://www.tracfone.com/CommonTypes"/>
                    <con2:userNsDecl prefix="phon" namespace="http://www.tracfone.com/PhoneDataServices"/>
                    <con2:userNsDecl prefix="v2" namespace="http://b2b.tracfone.com/MobileAccountServices/v2"/>
                    <con2:userNsDecl prefix="acc" namespace="http://www.tracfone.com/AccountCommonTypes"/>
                    <con4:variable name="getEsnAttributesResponse" path="$body" asChild="true">
                        <con4:schema ref="PhoneServices/DataServices/xsd/EsnAttributes_BPEL" element="getEsnAttributesResponse"/>
                    </con4:variable>
                </con:context>
                <con:actions>
                    <con3:ifThenElse>
                        <con2:id>_ActionId-af8220b.2ae70061.0.1568c6a05ac.N7ffa</con2:id>
                        <con3:case id="_BranchId-af8220b.2ae70061.0.1568c6a05ac.N7ff9">
                            <con3:condition>
                                <con2:xqueryText>fn:exists($body/v2:deleteDeviceRequest/v2:accountId/acc:accountIdentifierValue) and fn:data($body/v2:deleteDeviceRequest/v2:accountId/acc:accountIdentifierValue) != '' and fn:upper-case(fn:data($body/v2:deleteDeviceRequest/v2:accountId/acc:accountIdentifierName)) = 'USERID'</con2:xqueryText>
                            </con3:condition>
                            <con3:actions>
                                <con1:wsCallout xmlns:con3="http://www.bea.com/wli/sb/typesystem/config" xmlns:con5="http://www.bea.com/wli/sb/stages/logging/config" xmlns:con4="http://www.bea.com/wli/sb/stages/routing/config" xmlns:con1="http://www.bea.com/wli/sb/stages/transform/config">
                                    <con2:id>_ActionId-af8bb60.67340dae.0.15686b3b605.N7f5a</con2:id>
                                    <con1:service xsi:type="ref:BusinessServiceRef" ref="AccountServices/EnterpriseServices/BusinessServices/SpringfarmAccountServicesBS" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con1:operation>getCustomerProfile</con1:operation>
                                    <con1:request>
                                        <con1:body>getCustomerProfileRequest</con1:body>
                                    </con1:request>
                                    <con1:response>
                                        <con1:body>getCustomerProfileResponse</con1:body>
                                    </con1:response>
                                    <con1:requestTransform>
                                        <con1:assign varName="getCustomerProfileRequest">
                                            <con2:id>_ActionId-af8bb60.67340dae.0.15686b3b605.N7f59</con2:id>
                                            <con1:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DeleteDevice2AccountSpringFarmServiceRequest"/>
                                                    <con2:param name="deleteDeviceRequest1">
                                                        <con2:path>$body/v2:deleteDeviceRequest</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:requestTransform>
                                    <con1:responseTransform>
                                        <con1:assign varName="contactId">
                                            <con2:id>_ActionId-af8bb60.67340dae.0.15686b3b605.N7f58</con2:id>
                                            <con1:expr>
                                                <con:xqueryText xmlns:con="http://www.bea.com/wli/sb/stages/config">fn:data($getCustomerProfileResponse/acc1:contactId)</con:xqueryText>
                                            </con1:expr>
                                        </con1:assign>
                                    </con1:responseTransform>
                                </con1:wsCallout>
                                <con3:ifThenElse>
                                    <con2:id>_ActionId-af8bb7c.N264f8183.0.1574630a2c7.N7ffa</con2:id>
                                    <con3:case id="_BranchId-af8bb7c.N264f8183.0.1574630a2c7.N7ff9">
                                        <con3:condition>
                                            <con2:xqueryText>fn:data($body/v2:deleteDeviceRequest/com:brandName) = 'TOTAL_WIRELESS'</con2:xqueryText>
                                        </con3:condition>
                                        <con3:actions>
                                            <con3:wsCallout>
                                                <con2:id>_ActionId-af8212d.c770f86.0.157259ea984.N7ba7</con2:id>
                                                <con3:service ref="AccountServices/EnterpriseServices/BusinessServices/GroupManagementDS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                <con3:operation>getGroup</con3:operation>
                                                <con3:request>
                                                    <con3:body wrapped="false">getGroupRequest</con3:body>
                                                </con3:request>
                                                <con3:response>
                                                    <con3:body wrapped="false">getGroupResponse</con3:body>
                                                </con3:response>
                                                <con3:requestTransform>
                                                    <con3:assign varName="getGroupRequest">
                                                        <con2:id>_ActionId-af8212d.c770f86.0.157259ea984.N7ba6</con2:id>
                                                        <con3:expr>
                                                            <con2:xqueryTransform>
                                                                <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DeleteDevice2GetGroupRequest"/>
                                                                <con2:param name="ESN">
                                                                    <con2:path>$ESN</con2:path>
                                                                </con2:param>
                                                                <con2:param name="deleteDeviceRequest">
                                                                    <con2:path>$body/v2:deleteDeviceRequest</con2:path>
                                                                </con2:param>
                                                            </con2:xqueryTransform>
                                                        </con3:expr>
                                                    </con3:assign>
                                                </con3:requestTransform>
                                                <con3:responseTransform>
                                                    <con3:ifThenElse>
                                                        <con2:id>_ActionId-af8212d.c770f86.0.157259ea984.N7ba5</con2:id>
                                                        <con3:case id="_BranchId-af8212d.c770f86.0.157259ea984.N7ba4">
                                                            <con3:condition>
                                                                <con2:xqueryText>fn:data($getGroupResponse/com:result/com:code) = "0"</con2:xqueryText>
                                                            </con3:condition>
                                                            <con3:actions>
                                                                <con3:wsCallout>
                                                                    <con2:id>_ActionId-af8212d.c770f86.0.157259ea984.N7ba3</con2:id>
                                                                    <con3:service ref="AccountServices/EnterpriseServices/BusinessServices/GroupManagementDS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                                    <con3:operation>deleteMember</con3:operation>
                                                                    <con3:request>
                                                                        <con3:body wrapped="false">deleteMemberRequest</con3:body>
                                                                    </con3:request>
                                                                    <con3:response>
                                                                        <con3:body wrapped="false">deleteMemberResponse</con3:body>
                                                                    </con3:response>
                                                                    <con3:requestTransform>
                                                                        <con3:assign varName="deleteMemberRequest">
                                                                            <con2:id>_ActionId-af8212d.c770f86.0.157259ea984.N7ba2</con2:id>
                                                                            <con3:expr>
                                                                                <con2:xqueryTransform>
                                                                                    <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DeleteDevice2DeleteMemberRequest"/>
                                                                                    <con2:param name="getGroupResponse">
                                                                                        <con2:path>$getGroupResponse</con2:path>
                                                                                    </con2:param>
                                                                                    <con2:param name="ESN">
                                                                                        <con2:path>$ESN</con2:path>
                                                                                    </con2:param>
                                                                                    <con2:param name="deleteDeviceRequest">
                                                                                        <con2:path>$body/v2:deleteDeviceRequest</con2:path>
                                                                                    </con2:param>
                                                                                </con2:xqueryTransform>
                                                                            </con3:expr>
                                                                        </con3:assign>
                                                                    </con3:requestTransform>
                                                                    <con3:responseTransform>
                                                                        <con3:ifThenElse>
                                                                            <con2:id>_ActionId-af8220b.5649d284.0.157398af50f.N7f68</con2:id>
                                                                            <con3:case id="_BranchId-af8220b.5649d284.0.157398af50f.N7f67">
                                                                                <con3:condition>
                                                                                    <con2:xqueryText>fn:not(fn:data($deleteMemberResponse/com:result/com:code) = '0')</con2:xqueryText>
                                                                                </con3:condition>
                                                                                <con3:actions>
                                                                                    <con3:assign varName="errorCodesMap">
                                                                                        <con2:id>_ActionId-af8212d.c770f86.0.157259ea984.N7ba1</con2:id>
                                                                                        <con3:expr>
                                                                                            <con2:xqueryTransform>
                                                                                                <con2:resource ref="AccountServices/EnterpriseServices/DVM/CBOErrorCode2OSBErrorCodeDVM"/>
                                                                                            </con2:xqueryTransform>
                                                                                        </con3:expr>
                                                                                    </con3:assign>
                                                                                    <con3:replace varName="body" contents-only="true">
                                                                                        <con2:id>_ActionId-af8212d.c770f86.0.157259ea984.N7ba0</con2:id>
                                                                                        <con3:location>
                                                                                            <con2:xpathText>.</con2:xpathText>
                                                                                        </con3:location>
                                                                                        <con3:expr>
                                                                                            <con2:xqueryTransform>
                                                                                                <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DeleteMember2DeleteDeviceResponse"/>
                                                                                                <con2:param name="deleteMemberResponse">
                                                                                                    <con2:path>$deleteMemberResponse</con2:path>
                                                                                                </con2:param>
                                                                                                <con2:param name="errorCodesMap">
                                                                                                    <con2:path>$errorCodesMap</con2:path>
                                                                                                </con2:param>
                                                                                            </con2:xqueryTransform>
                                                                                        </con3:expr>
                                                                                    </con3:replace>
                                                                                    <con2:reply>
                                                                                        <con2:id>_ActionId-af8220b.5649d284.0.157398af50f.N7f62</con2:id>
                                                                                    </con2:reply>
                                                                                </con3:actions>
                                                                            </con3:case>
                                                                        </con3:ifThenElse>
                                                                    </con3:responseTransform>
                                                                </con3:wsCallout>
                                                                <con3:ifThenElse>
                                                                    <con2:id>_ActionId-a7bf029.N710ccaaf.0.162f3cc3fbf.N7fcd</con2:id>
                                                                    <con3:case id="_BranchId-a7bf029.N710ccaaf.0.162f3cc3fbf.N7fcc">
                                                                        <con3:condition>
                                                                            <con2:xqueryText>fn:data($deleteMemberResponse/com:result/com:code) = "0"</con2:xqueryText>
                                                                        </con3:condition>
                                                                        <con3:actions>
                                                                            <con3:wsCallout>
                                                                                <con2:id>_ActionId-a7bf02a.N5fe58900.0.1636459034a.N7fcb</con2:id>
                                                                                <con3:service ref="PhoneServices/EnterpriseServices/BusinessServices/EsnAttributesBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                                                <con3:operation>getEsnAttributes</con3:operation>
                                                                                <con3:request>
                                                                                    <con3:body wrapped="false">getEsnAttributesRequest</con3:body>
                                                                                </con3:request>
                                                                                <con3:response>
                                                                                    <con3:body wrapped="false">getEsnAttributesResponse</con3:body>
                                                                                </con3:response>
                                                                                <con3:requestTransform>
                                                                                    <con3:assign varName="getEsnAttributesRequest">
                                                                                        <con2:id>_ActionId-a7bf02a.N5fe58900.0.1636459034a.N7f99</con2:id>
                                                                                        <con3:expr>
                                                                                            <con2:xqueryTransform>
                                                                                                <con2:resource ref="AccountServices/EnterpriseServices/transformations/GetEsnAttributesRequest"/>
                                                                                                <con2:param name="requestParam">
                                                                                                    <con2:path>$body/v2:deleteDeviceRequest</con2:path>
                                                                                                </con2:param>
                                                                                            </con2:xqueryTransform>
                                                                                        </con3:expr>
                                                                                    </con3:assign>
                                                                                </con3:requestTransform>
                                                                                <con3:responseTransform/>
                                                                            </con3:wsCallout>
                                                                            <con3:ifThenElse>
                                                                                <con2:id>_ActionId-a7bf02a.N5fe58900.0.1636459034a.N7f65</con2:id>
                                                                                <con3:case id="_BranchId-a7bf02a.N5fe58900.0.1636459034a.N7f64">
                                                                                    <con3:condition>
                                                                                        <con2:xqueryText>fn:data($getEsnAttributesResponse/phon:resultList/com:keyValue/com:keyValue) = '52'</con2:xqueryText>
                                                                                    </con3:condition>
                                                                                    <con3:actions>
                                                                                        <con3:wsCallout>
                                                                                            <con2:id>_ActionId-a7bf029.N710ccaaf.0.162f3cc3fbf.N7f9a</con2:id>
                                                                                            <con3:service ref="AccountServices/EnterpriseServices/BusinessServices/DeEnrollmenetServicesBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                                                            <con3:operation>doCompleteDeEnroll</con3:operation>
                                                                                            <con3:request>
                                                                                                <con3:body wrapped="false">doCompleteDeEnrollmentRequest</con3:body>
                                                                                            </con3:request>
                                                                                            <con3:response>
                                                                                                <con3:body wrapped="false">doCompleteDeEnrollmentResponse</con3:body>
                                                                                            </con3:response>
                                                                                            <con3:requestTransform>
                                                                                                <con3:assign varName="doCompleteDeEnrollmentRequest">
                                                                                                    <con2:id>_ActionId-a7bf029.N710ccaaf.0.162f3cc3fbf.N7f68</con2:id>
                                                                                                    <con3:expr>
                                                                                                        <con2:xqueryTransform>
                                                                                                            <con2:resource ref="AccountServices/EnterpriseServices/transformations/DoCompleteDeEnrollmentRequest"/>
                                                                                                            <con2:param name="deleteDeviceRequestParam">
                                                                                                                <con2:path>$body/v2:deleteDeviceRequest</con2:path>
                                                                                                            </con2:param>
                                                                                                            <con2:param name="getCustomerProfileResponseParam">
                                                                                                                <con2:path>$getCustomerProfileResponse</con2:path>
                                                                                                            </con2:param>
                                                                                                        </con2:xqueryTransform>
                                                                                                    </con3:expr>
                                                                                                </con3:assign>
                                                                                            </con3:requestTransform>
                                                                                            <con3:responseTransform/>
                                                                                        </con3:wsCallout>
                                                                                    </con3:actions>
                                                                                </con3:case>
                                                                                <con3:default/>
                                                                            </con3:ifThenElse>
                                                                        </con3:actions>
                                                                    </con3:case>
                                                                    <con3:default/>
                                                                </con3:ifThenElse>
                                                            </con3:actions>
                                                        </con3:case>
                                                        <con3:default/>
                                                    </con3:ifThenElse>
                                                </con3:responseTransform>
                                            </con3:wsCallout>
                                        </con3:actions>
                                    </con3:case>
                                    <con3:default/>
                                </con3:ifThenElse>
                                <con3:wsCallout>
                                    <con2:id>_ActionId-af8220b.2ae70061.0.1568c6a05ac.N7ebe</con2:id>
                                    <con3:service ref="AccountServices/EnterpriseServices/BusinessServices/AccountCoreServicesBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                    <con3:operation>removeEsnFromAccount</con3:operation>
                                    <con3:request>
                                        <con3:body wrapped="false">removeEsnFromAccountRequest</con3:body>
                                    </con3:request>
                                    <con3:response>
                                        <con3:body wrapped="false">removeEsnFromAccountResponse</con3:body>
                                    </con3:response>
                                    <con3:requestTransform>
                                        <con3:assign varName="removeEsnFromAccountRequest">
                                            <con2:id>_ActionId-af8220b.2ae70061.0.1568c6a05ac.N7e5c</con2:id>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DeleteDevice2RemoveEsnFromAccountRequest"/>
                                                    <con2:param name="contactId">
                                                        <con2:path>$contactId</con2:path>
                                                    </con2:param>
                                                    <con2:param name="ESN">
                                                        <con2:path>$ESN</con2:path>
                                                    </con2:param>
                                                    <con2:param name="deleteDeviceRequest">
                                                        <con2:path>$body/v2:deleteDeviceRequest</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:assign>
                                    </con3:requestTransform>
                                    <con3:responseTransform>
                                        <con3:ifThenElse>
                                            <con2:id>_ActionId-a7b9d18.e7b955.0.161e30e7fe0.N7fbe</con2:id>
                                            <con3:case id="_BranchId-a7b9d18.e7b955.0.161e30e7fe0.N7fbd">
                                                <con3:condition>
                                                    <con2:xqueryText>(fn:upper-case(fn:data($body/v2:deleteDeviceRequest/com:brandName)) = 'TOTAL_WIRELESS') and (fn:data($removeEsnFromAccountResponse/com:result/com:code)='0')</con2:xqueryText>
                                                </con3:condition>
                                                <con3:actions>
                                                    <con3:wsCallout>
                                                        <con2:id>_ActionId-a7b9d18.e7b955.0.161e30e7fe0.N7fba</con2:id>
                                                        <con3:service ref="AccountServices/EnterpriseServices/BusinessServices/AccountCoreServicesBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                        <con3:operation>createAccount</con3:operation>
                                                        <con3:request>
                                                            <con3:body wrapped="false">createAccountRequest</con3:body>
                                                        </con3:request>
                                                        <con3:response>
                                                            <con3:body wrapped="false">createAccountResponse</con3:body>
                                                        </con3:response>
                                                        <con3:requestTransform>
                                                            <con3:assign varName="createAccountRequest">
                                                                <con2:id>_ActionId-a7b9d18.e7b955.0.161e30e7fe0.N7f7d</con2:id>
                                                                <con3:expr>
                                                                    <con2:xqueryTransform>
                                                                        <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DeleteDevice2CreateDummyAccountRequest"/>
                                                                        <con2:param name="deleteDeviceReq">
                                                                            <con2:path>$body/v2:deleteDeviceRequest</con2:path>
                                                                        </con2:param>
                                                                    </con2:xqueryTransform>
                                                                </con3:expr>
                                                            </con3:assign>
                                                        </con3:requestTransform>
                                                        <con3:responseTransform/>
                                                    </con3:wsCallout>
                                                </con3:actions>
                                            </con3:case>
                                            <con3:default/>
                                        </con3:ifThenElse>
                                        <con3:assign varName="errorCodesMap">
                                            <con2:id>_ActionId-af8220b.2ae70061.0.1568c6a05ac.N7e29</con2:id>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="AccountServices/EnterpriseServices/DVM/CBOErrorCode2OSBErrorCodeDVM"/>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:assign>
                                        <con3:replace varName="body" contents-only="true">
                                            <con2:id>_ActionId-af8220b.2ae70061.0.1568c6a05ac.N7e26</con2:id>
                                            <con3:location>
                                                <con2:xpathText>.</con2:xpathText>
                                            </con3:location>
                                            <con3:expr>
                                                <con2:xqueryTransform>
                                                    <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/RemoveEsnFromAccount2DeleteDeviceResponse"/>
                                                    <con2:param name="removeMultipleEsnToAccountResponse">
                                                        <con2:path>$removeEsnFromAccountResponse</con2:path>
                                                    </con2:param>
                                                    <con2:param name="errorCodesMap">
                                                        <con2:path>$errorCodesMap</con2:path>
                                                    </con2:param>
                                                </con2:xqueryTransform>
                                            </con3:expr>
                                        </con3:replace>
                                    </con3:responseTransform>
                                </con3:wsCallout>
                            </con3:actions>
                        </con3:case>
                        <con3:default>
                            <con3:wsCallout>
                                <con2:id>_ActionId-af8220b.2ae70061.0.1568c6a05ac.N7ff3</con2:id>
                                <con3:service ref="AccountServices/EnterpriseServices/BusinessServices/GroupManagementDS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                <con3:operation>getGroup</con3:operation>
                                <con3:request>
                                    <con3:body wrapped="false">getGroupRequest</con3:body>
                                </con3:request>
                                <con3:response>
                                    <con3:body wrapped="false">getGroupResponse</con3:body>
                                </con3:response>
                                <con3:requestTransform>
                                    <con3:assign varName="getGroupRequest">
                                        <con2:id>_ActionId-af8220b.2ae70061.0.1568c6a05ac.N7f91</con2:id>
                                        <con3:expr>
                                            <con2:xqueryTransform>
                                                <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DeleteDevice2GetGroupRequest"/>
                                                <con2:param name="ESN">
                                                    <con2:path>$ESN</con2:path>
                                                </con2:param>
                                                <con2:param name="deleteDeviceRequest">
                                                    <con2:path>$body/v2:deleteDeviceRequest</con2:path>
                                                </con2:param>
                                            </con2:xqueryTransform>
                                        </con3:expr>
                                    </con3:assign>
                                </con3:requestTransform>
                                <con3:responseTransform>
                                    <con3:ifThenElse>
                                        <con2:id>_ActionId-af8220b.2ae70061.0.1568c6a05ac.N7f5d</con2:id>
                                        <con3:case id="_BranchId-af8220b.2ae70061.0.1568c6a05ac.N7f5c">
                                            <con3:condition>
                                                <con2:xqueryText>fn:data($getGroupResponse/com:result/com:code) = "0"</con2:xqueryText>
                                            </con3:condition>
                                            <con3:actions>
                                                <con3:wsCallout>
                                                    <con2:id>_ActionId-af8220b.2ae70061.0.1568c6a05ac.N7f2a</con2:id>
                                                    <con3:service ref="AccountServices/EnterpriseServices/BusinessServices/GroupManagementDS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                                    <con3:operation>deleteMember</con3:operation>
                                                    <con3:request>
                                                        <con3:body wrapped="false">deleteMemberRequest</con3:body>
                                                    </con3:request>
                                                    <con3:response>
                                                        <con3:body wrapped="false">deleteMemberResponse</con3:body>
                                                    </con3:response>
                                                    <con3:requestTransform>
                                                        <con3:assign varName="deleteMemberRequest">
                                                            <con2:id>_ActionId-af8220b.2ae70061.0.1568c6a05ac.N7f27</con2:id>
                                                            <con3:expr>
                                                                <con2:xqueryTransform>
                                                                    <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DeleteDevice2DeleteMemberRequest"/>
                                                                    <con2:param name="getGroupResponse">
                                                                        <con2:path>$getGroupResponse</con2:path>
                                                                    </con2:param>
                                                                    <con2:param name="ESN">
                                                                        <con2:path>$ESN</con2:path>
                                                                    </con2:param>
                                                                    <con2:param name="deleteDeviceRequest">
                                                                        <con2:path>$body/v2:deleteDeviceRequest</con2:path>
                                                                    </con2:param>
                                                                </con2:xqueryTransform>
                                                            </con3:expr>
                                                        </con3:assign>
                                                    </con3:requestTransform>
                                                    <con3:responseTransform>
                                                        <con3:assign varName="errorCodesMap">
                                                            <con2:id>_ActionId-af8220b.2ae70061.0.1568c6a05ac.N7ef4</con2:id>
                                                            <con3:expr>
                                                                <con2:xqueryTransform>
                                                                    <con2:resource ref="AccountServices/EnterpriseServices/DVM/CBOErrorCode2OSBErrorCodeDVM"/>
                                                                </con2:xqueryTransform>
                                                            </con3:expr>
                                                        </con3:assign>
                                                        <con3:replace varName="body" contents-only="true">
                                                            <con2:id>_ActionId-af8220b.2ae70061.0.1568c6a05ac.N7ef1</con2:id>
                                                            <con3:location>
                                                                <con2:xpathText>.</con2:xpathText>
                                                            </con3:location>
                                                            <con3:expr>
                                                                <con2:xqueryTransform>
                                                                    <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DeleteMember2DeleteDeviceResponse"/>
                                                                    <con2:param name="deleteMemberResponse">
                                                                        <con2:path>$deleteMemberResponse</con2:path>
                                                                    </con2:param>
                                                                    <con2:param name="errorCodesMap">
                                                                        <con2:path>$errorCodesMap</con2:path>
                                                                    </con2:param>
                                                                </con2:xqueryTransform>
                                                            </con3:expr>
                                                        </con3:replace>
                                                    </con3:responseTransform>
                                                </con3:wsCallout>
                                            </con3:actions>
                                        </con3:case>
                                        <con3:default>
                                            <con3:assign varName="errorCodesMap">
                                                <con2:id>_ActionId-N3f57fff2.1884d4a8.0.1568c57fa67.N7f0a</con2:id>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="AccountServices/EnterpriseServices/DVM/CBOErrorCode2OSBErrorCodeDVM"/>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:assign>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N3f57fff2.1884d4a8.0.1568c57fa67.N7f07</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/GetGroup2DeleteDeviceResponse"/>
                                                        <con2:param name="getGroupResponse">
                                                            <con2:path>$getGroupResponse</con2:path>
                                                        </con2:param>
                                                        <con2:param name="errorCodesMap">
                                                            <con2:path>$errorCodesMap</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                        </con3:default>
                                    </con3:ifThenElse>
                                </con3:responseTransform>
                            </con3:wsCallout>
                        </con3:default>
                    </con3:ifThenElse>
                </con:actions>
            </con:stage>
        </con:pipeline>
        <con:pipeline type="request" name="request-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b3e" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/typesystem/config" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations" xmlns:http="http://www.bea.com/wli/sb/transports/http" xmlns:env="http://www.bea.com/wli/config/env" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config"/>
        <con:flow>
            <con:pipeline-node name="PipelinePairMobileAccountServicesV2">
                <con:request>request-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7f86</con:request>
                <con:response>response-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7f85</con:response>
            </con:pipeline-node>
            <con:branch-node type="operation" name="BranchNode1" id="_FlowId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b87" xmlns:con3="http://www.bea.com/wli/sb/stages/transform/config" xmlns:con2="http://www.bea.com/wli/sb/stages/config" xmlns:con5="http://www.bea.com/wli/sb/services/security/config" xmlns:con4="http://www.bea.com/wli/sb/typesystem/config" xmlns:ser="http://www.bea.com/wli/sb/services" xmlns:oper="http://xmlns.oracle.com/servicebus/pipeline/operations" xmlns:http="http://www.bea.com/wli/sb/transports/http" xmlns:env="http://www.bea.com/wli/config/env" xmlns:tran="http://www.bea.com/wli/sb/transports" xmlns:con1="http://www.bea.com/wli/sb/stages/routing/config">
                <con:context/>
                <con:branch-table>
                    <con:branch name="getTransactionHistory">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="PipelinePairgetTransactionHistory">
                                <con:request>request-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b72</con:request>
                                <con:response>response-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b66</con:response>
                            </con:pipeline-node>
                            <con:route-node name="RouteToGetTransactionHistory">
                                <con:context xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                                    <con2:userNsDecl prefix="acc3" namespace="http://www.tracfone.com/AccountDataServices"/>
                                    <con2:userNsDecl prefix="v2" namespace="http://b2b.tracfone.com/MobileAccountServices/v2"/>
                                    <con2:varNsDecl prefix="acc2" namespace="http://www.tracfone.com/AccountCoreServices"/>
                                    <con2:varNsDecl prefix="acc1" namespace="http://www.tracfone.com/AccountCommonTypes"/>
                                    <con2:varNsDecl prefix="com" namespace="http://www.tracfone.com/CommonTypes"/>
                                    <con2:varNsDecl prefix="mob" namespace="http://b2b.tracfone.com/MobileAccountServices"/>
                                    <con2:varNsDecl prefix="phon" namespace="http://www.tracfone.com/PhoneCommonTypes"/>
                                    <con2:varNsDecl prefix="run" namespace="http://www.tracfone.com/RuntimeFault"/>
                                    <con2:varNsDecl prefix="acc" namespace="http://b2b.tracfone.com/AccountServices"/>
                                    <con4:variable name="GetTransactionHistoryResp" path="$body" asChild="true">
                                        <con4:schema ref="AccountServices/CoreServices/xsd/AccountCoreServices" element="getTransactionHistoryResponse"/>
                                    </con4:variable>
                                </con:context>
                                <con:actions xmlns:con6="http://www.bea.com/wli/sb/stages/logging/config">
                                    <con1:route>
                                        <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b61</con2:id>
                                        <con1:service ref="AccountServices/EnterpriseServices/BusinessServices/AccountDataServicesBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>getTransactionHistory</con1:operation>
                                        <con1:outboundTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b60</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/GetTransactionHistory2DataServicesRequest"/>
                                                        <con2:param name="getTransactionHistoryRequest">
                                                            <con2:path>$body/v2:getTransactionHistoryRequest</con2:path>
                                                        </con2:param>
                                                        <con2:param name="ESN">
                                                            <con2:path>$ESN</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:ifThenElse>
                                                <con2:id>_ActionId-af82242.1e8a55c1.0.14ec744ddf0.N7ffa</con2:id>
                                                <con3:case id="_BranchId-af82242.1e8a55c1.0.14ec744ddf0.N7ff9">
                                                    <con3:condition>
                                                        <con2:xqueryText>fn:data($body/acc3:getTransactionHistoryResponse/com:result/com:code) = "0"</con2:xqueryText>
                                                    </con3:condition>
                                                    <con3:actions>
                                                        <con3:replace varName="body" contents-only="true">
                                                            <con2:id>_ActionId-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b5f</con2:id>
                                                            <con3:location>
                                                                <con2:xpathText>.</con2:xpathText>
                                                            </con3:location>
                                                            <con3:expr>
                                                                <con2:xqueryTransform>
                                                                    <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DataServices2GetTransactionHistoryResponse"/>
                                                                    <con2:param name="getTransactionHistoryRequest">
                                                                        <con2:path>$originalrequest</con2:path>
                                                                    </con2:param>
                                                                    <con2:param name="getTransactionHistoryResponse">
                                                                        <con2:path>$body/acc3:getTransactionHistoryResponse</con2:path>
                                                                    </con2:param>
                                                                </con2:xqueryTransform>
                                                            </con3:expr>
                                                        </con3:replace>
                                                    </con3:actions>
                                                </con3:case>
                                                <con3:default>
                                                    <con3:replace varName="body" contents-only="true">
                                                        <con2:id>_ActionId-af82242.1e8a55c1.0.14ec744ddf0.N7fc1</con2:id>
                                                        <con3:location>
                                                            <con2:xpathText>.</con2:xpathText>
                                                        </con3:location>
                                                        <con3:expr>
                                                            <con2:xqueryTransform>
                                                                <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/FormatGetTransactionHistoryErrorResponse"/>
                                                                <con2:param name="getTransactionHistoryRequest">
                                                                    <con2:path>$body/v2:getTransactionHistoryRequest</con2:path>
                                                                </con2:param>
                                                                <con2:param name="errorCode">
                                                                    <con2:path>"11900"</con2:path>
                                                                </con2:param>
                                                                <con2:param name="errorString">
                                                                    <con2:path>"Transaction history could not be found"</con2:path>
                                                                </con2:param>
                                                            </con2:xqueryTransform>
                                                        </con3:expr>
                                                    </con3:replace>
                                                    <con2:reply>
                                                        <con2:id>_ActionId-af82242.1e8a55c1.0.14ec744ddf0.N7fbe</con2:id>
                                                    </con2:reply>
                                                </con3:default>
                                            </con3:ifThenElse>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="deleteDevice">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="PipelinePairNode1">
                                <con:request>request-af8bb60.67340dae.0.15686b3b605.N7f5e</con:request>
                                <con:response>response-af8bb60.67340dae.0.15686b3b605.N7f51</con:response>
                            </con:pipeline-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="removeDeviceFromDummyAccount">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:route-node name="RemoveDeviceFromDummyAccRouteNode">
                                <con:context>
                                    <con2:userNsDecl prefix="ns1" namespace="http://www.tracfone.com/AccountDataServices"/>
                                    <con2:userNsDecl prefix="v2" namespace="http://b2b.tracfone.com/MobileAccountServices/v2"/>
                                </con:context>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-ae28799.b873027.0.15b1ee4782f.N7f64</con2:id>
                                        <con1:service ref="AccountServices/EnterpriseServices/BusinessServices/RemoveDeviceFromDummyAccBS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>removeDeviceFromDummyAccount</con1:operation>
                                        <con1:outboundTransform>
                                            <con3:assign varName="originalRequest">
                                                <con2:id>_ActionId-ae28799.N20adb79d.0.15b1ef7ad8f.N7fc4</con2:id>
                                                <con3:expr>
                                                    <con2:xqueryText>$body</con2:xqueryText>
                                                </con3:expr>
                                            </con3:assign>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-ae28799.N20adb79d.0.15b1ef7ad8f.N7fca</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/RemoveDevicefromDummyAccountRequest"/>
                                                        <con2:param name="removeDeviceFromDummyAccountRequest">
                                                            <con2:path>$body/v2:removeDeviceFromDummyAccountRequest</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-ae28799.N20adb79d.0.15b1ef7ad8f.N7fc7</con2:id>
                                                <con3:location>
                                                    <con2:xpathText>.</con2:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con2:xqueryTransform>
                                                        <con2:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/RemoveDevicefromDummyAccountResponse"/>
                                                        <con2:param name="removeDeviceFromDummyAccountResponse">
                                                            <con2:path>$body/ns1:removeDeviceFromDummyAccountResponse</con2:path>
                                                        </con2:param>
                                                    </con2:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:branch name="deleteGroup">
                        <con:operator>equals</con:operator>
                        <con:value/>
                        <con:flow>
                            <con:pipeline-node name="PipelinePairNode2">
                                <con:request>request-a7b723b.7afd637e.0.16100c84998.N8000</con:request>
                                <con:response>response-a7b723b.7afd637e.0.16100c84998.N7fff</con:response>
                            </con:pipeline-node>
                            <con:route-node name="RouteNode1">
                                <con:context>
                                    <con2:userNsDecl prefix="acc1" namespace="http://www.tracfone.com/AccountSpringFarmServices"/>
                                    <con2:userNsDecl prefix="grp" namespace="http://www.tracfone.com/GroupManagementServices"/>
                                    <con2:userNsDecl prefix="acc" namespace="http://www.tracfone.com/AccountCommonTypes"/>
                                    <con2:varNsDecl prefix="com" namespace="http://www.tracfone.com/CommonTypes"/>
                                    <con2:varNsDecl prefix="run" namespace="http://www.tracfone.com/RuntimeFault"/>
                                    <con2:varNsDecl prefix="v2" namespace="http://b2b.tracfone.com/MobileAccountServices/v2"/>
                                </con:context>
                                <con:actions>
                                    <con1:route>
                                        <con2:id>_ActionId-a7b723b.423778e8.6.161010b9ab7.N8000</con2:id>
                                        <con1:service ref="AccountServices/EnterpriseServices/BusinessServices/GroupManagementDS" xsi:type="ref:BusinessServiceRef" xmlns:ref="http://www.bea.com/wli/sb/reference"/>
                                        <con1:operation>deleteGroup</con1:operation>
                                        <con1:outboundTransform>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-a7b723b.423778e8.7.161010bcc17.N8000</con2:id>
                                                <con3:location>
                                                    <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con:xqueryTransform xmlns:con="http://www.bea.com/wli/sb/stages/config">
                                                        <con:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DeleteGroupRequest"/>
                                                        <con:param name="deleteGroupRequest">
                                                            <con:path>$body/v2:deleteGroupRequest</con:path>
                                                        </con:param>
                                                    </con:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                        </con1:outboundTransform>
                                        <con1:responseTransform>
                                            <con3:assign varName="errorCodesMap">
                                                <con2:id>_ActionId-a7b723b.423778e8.2.160fadd038c.N7ffc</con2:id>
                                                <con3:expr>
                                                    <con:xqueryTransform xmlns:con="http://www.bea.com/wli/sb/stages/config">
                                                        <con:resource ref="AccountServices/EnterpriseServices/DVM/CBOErrorCode2OSBErrorCodeDVM"/>
                                                    </con:xqueryTransform>
                                                </con3:expr>
                                            </con3:assign>
                                            <con3:replace varName="body" contents-only="true">
                                                <con2:id>_ActionId-a7b723b.423778e8.8.161010e7889.N8000</con2:id>
                                                <con3:location>
                                                    <con:xpathText xmlns:con="http://www.bea.com/wli/sb/stages/config">.</con:xpathText>
                                                </con3:location>
                                                <con3:expr>
                                                    <con:xqueryTransform xmlns:con="http://www.bea.com/wli/sb/stages/config">
                                                        <con:resource ref="AccountServices/EnterpriseServices/transformations/Mobile/V2/DeleteGroupResponse"/>
                                                        <con:param name="errorCodesMap">
                                                            <con:path>$errorCodesMap</con:path>
                                                        </con:param>
                                                        <con:param name="deleteGroupResponse">
                                                            <con:path>$body/grp:deleteGroupResponse</con:path>
                                                        </con:param>
                                                    </con:xqueryTransform>
                                                </con3:expr>
                                            </con3:replace>
                                        </con1:responseTransform>
                                    </con1:route>
                                </con:actions>
                            </con:route-node>
                        </con:flow>
                    </con:branch>
                    <con:default-branch>
                        <con:flow>
                            <con:pipeline-node name="PipelinePairDefault">
                                <con:request>request-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b3e</con:request>
                                <con:response>response-N3f57c7ff.2546b5bb.0.14ea9b12b25.N7b3d</con:response>
                            </con:pipeline-node>
                        </con:flow>
                    </con:default-branch>
                </con:branch-table>
            </con:branch-node>
        </con:flow>
    </con:router>
    <aler:alertRules xsi:nil="true" xmlns:aler="http://xmlns.oracle.com/servicebus/monitoring/alert"/>
</con:pipelineEntry>